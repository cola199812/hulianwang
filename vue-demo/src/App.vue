<template>
  <div class="layout">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <el-menu
      v-if="showNav"
      mode="horizontal"
      :default-active="active"
      router
      class="top-nav"
    >
      <el-menu-item index="/home">ğŸ  é¦–é¡µ</el-menu-item>
      <el-menu-item index="/discover">ğŸ§­ è·¯çº¿å‘ç°</el-menu-item>
      <el-menu-item index="/social">ğŸ¤ æ´»åŠ¨ç¤¾äº¤</el-menu-item>
      <el-menu-item index="/creation">âœï¸ å†…å®¹åˆ›ä½œ</el-menu-item>
      <el-menu-item index="/gear">ğŸ’ è£…å¤‡æœåŠ¡</el-menu-item>
      <el-menu-item index="/tools">ğŸ› ï¸ å·¥å…·æœåŠ¡</el-menu-item>
      <el-menu-item index="/notification">ğŸ”” é€šçŸ¥</el-menu-item>
      <el-menu-item index="/profile">ğŸ‘¤ æˆ‘çš„</el-menu-item>
    </el-menu>

    <!-- é¡µé¢å†…å®¹ -->
    <div class="page-container">
      <router-view />
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()
const active = computed(() => route.path)
const showNav = computed(
  () => !['/login', '/', '/reset-password'].includes(route.path)
)
</script>

<style scoped>
/* æ•´ä½“å¸ƒå±€ */
.layout {
  min-height: 100vh;
  background: linear-gradient(180deg, #f2fbf5, #ffffff);
}

/* é¡¶éƒ¨å¯¼èˆªæ  */
.top-nav {
  position: sticky;
  top: 0;
  z-index: 100;
  border-bottom: none;
  padding: 0 24px;
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 12px rgba(39, 174, 96, 0.08);
}

/* èœå•é¡¹ */
.top-nav :deep(.el-menu-item) {
  font-weight: 600;
  color: #2c3e50;
  border-radius: 20px;
  margin: 8px 6px;
  transition: all 0.2s ease;
}

/* hover æ•ˆæœ */
.top-nav :deep(.el-menu-item:hover) {
  background-color: rgba(39, 174, 96, 0.12);
  color: #27ae60;
}

/* æ¿€æ´»çŠ¶æ€ */
.top-nav :deep(.el-menu-item.is-active) {
  background: linear-gradient(135deg, #2ecc71, #27ae60);
  color: #fff;
  box-shadow: 0 4px 10px rgba(39, 174, 96, 0.35);
}

/* é¡µé¢å†…å®¹åŒºåŸŸ */
.page-container {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

/* ç§»åŠ¨ç«¯ä¼˜åŒ– */
@media (max-width: 768px) {
  .top-nav {
    padding: 0 8px;
  }
  .top-nav :deep(.el-menu-item) {
    margin: 6px 4px;
    font-size: 14px;
  }
}
</style>
